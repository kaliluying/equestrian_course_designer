# 马术障碍赛路线设计器 (Equestrian Course Designer)

一个基于 Vue 3 + TypeScript 的马术障碍赛路线设计工具，帮助教练和赛事组织者轻松设计专业的障碍赛路线。

## ✨ 功能特点

- 🎯 直观的障碍物放置与编辑
- 🛠️ 智能路线生成与优化
- 💾 设计方案的保存与导入
- 🖼️ 导出设计为高清图片
- 👥 用户账户管理系统

## 🚀 快速开始

### 环境要求

- Node.js >= 16
- npm >= 7

### 安装

```bash
# 克隆项目
git clone https://github.com/yourusername/equestrian-course-designer.git

# 进入项目目录
cd equestrian-course-designer

# 安装依赖
npm install

# 启动开发服务器
npm run dev
```

### 构建

```bash
# 构建生产版本
npm run build
```

## 🛠️ 技术栈

- Vue 3
- TypeScript
- Element Plus
- Pinia
- Vite

## 📖 文档

详细的设计文档请查看 [DESIGN.md](./docs/DESIGN.md)

## 📝 开发规范

提交信息格式规范：

- `feat`: 新功能
- `fix`: 修复问题
- `docs`: 文档修改
- `style`: 代码格式修改
- `refactor`: 代码重构
- `test`: 测试用例
- `chore`: 其他修改

## 📄 许可证

[MIT](./LICENSE)

## 1. 项目概述

马术障碍赛路线设计器是一个基于 Vue 3 + TypeScript 的 Web 应用，用于设计和规划马术障碍赛的比赛路线。设计师可以在虚拟场地中放置各种障碍物，并规划马匹的行进路线。

### 1.1 主要功能
- 障碍物放置与编辑
- 自动路线生成
- 路线可视化
- 设计方案的保存与导入
- 用户账户管理
- 设计导出为图片

### 1.2 技术栈
- Vue 3
- TypeScript
- Element Plus
- Pinia
- Vite

## 2. 系统架构

### 2.1 核心模块
1. **场地画布 (CourseCanvas)**
   - 负责渲染场地和障碍物
   - 处理拖拽和交互
   - 显示路线

2. **工具栏 (ToolBar)**
   - 障碍物模板
   - 操作按钮
   - 路线名称管理

3. **状态管理**
   - 课程设计状态 (CourseStore)
   - 用户状态 (UserStore)

### 2.2 数据模型

#### 障碍物 (Obstacle)

## 3. 功能详细设计

### 3.1 障碍物管理

#### 障碍物类型
- 单横木 (SINGLE)
- 双横木 (DOUBLE)
- 组合障碍 (COMBINATION)
- 砖墙 (WALL)
- 利物浦 (LIVERPOOL)

#### 障碍物操作
- 拖拽放置
- 旋转调整
- 属性编辑
- 删除

### 3.2 路线设计

#### 路线生成
- 自动生成最优路线
- 考虑障碍物间距
- 避免急转弯
- 保持合理的接近角度

#### 路线编辑
- 起点和终点调整
- 控制点编辑
- 路线可见性切换

### 3.3 用户系统

#### 用户功能
- 注册
- 登录
- 退出登录
- 个人信息管理

#### 权限控制
- 未登录用户可以：
  - 查看和使用设计器
  - 创建临时设计
- 登录用户可以：
  - 保存设计
  - 导入已有设计
  - 管理个人设计
  - 导出设计为图片

## 4. 界面设计

### 4.1 主界面布局
- 顶部导航栏：显示标题和用户信息
- 左侧工具栏：包含障碍物模板和操作按钮
- 主画布区域：显示场地和障碍物

### 4.2 交互设计
- 拖拽操作：从工具栏拖动障碍物到画布
- 点击选择：选中障碍物进行编辑
- 右键菜单：快速访问常用操作
- 键盘快捷键：提高操作效率
- 导出按钮：将当前设计导出为图片格式

## 5. 数据存储

### 5.1 本地存储
- 用户登录状态
- 当前设计的临时保存

### 5.2 服务器存储
- 用户账户信息
- 保存的设计方案
- 设计历史记录

## 6. 未来扩展

### 6.1 计划功能
- 3D 预览
- 多人协作
- 设计模板库
- 比赛规则检查
- 路线动画演示

### 6.2 性能优化
- 大型场地的渲染优化
- 复杂路线的计算优化
- 资源加载优化

## 7. 开发规范

### 7.1 代码规范
- 使用 TypeScript 类型检查
- 遵循 Vue 3 组合式 API 规范
- 组件命名采用 PascalCase
- 文件命名采用 kebab-case

### 7.2 提交规范
- feat: 新功能
- fix: 修复问题
- docs: 文档修改
- style: 代码格式修改
- refactor: 代码重构
- test: 测试用例
- chore: 其他修改

## 8. 部署说明

### 8.1 环境要求
- Node.js >= 16
- npm >= 7

### 8.2 构建步骤